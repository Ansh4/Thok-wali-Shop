(()=>{var e={};e.id=904,e.ids=[904],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1237:(e,r,t)=>{Promise.resolve().then(t.bind(t,2280))},2280:(e,r,t)=>{"use strict";t.d(r,{default:()=>b});var s=t(687),o=t(3442),n=t(7605),a=t(3210),i=t(9523),d=t(1669),l=t(9667),c=t(4780);let p=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("textarea",{className:(0,c.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:t,...r}));p.displayName="Textarea";var u=t(4493),h=t(9867),x=t(6485),m=t(6475);let j=(0,m.createServerReference)("4081013ea6699ac9171233ce0efebfc895d7ef4a26",m.callServer,void 0,m.findSourceMapURL,"createProductAction");var f=t(3540),g=t(3380),v=t(1516);function b(){let{toast:e}=(0,h.dj)(),[r,t]=(0,a.useTransition)(),[c,m]=(0,a.useState)(!1),b=(0,n.mN)({resolver:(0,o.u)(x.u),defaultValues:{name:"",description:"",mrp:0,code:"",barcode:"",costPriceCode:"",lowInventoryFactor:0}});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(u.Zp,{className:"w-full max-w-2xl mx-auto shadow-xl rounded-lg",children:[(0,s.jsx)(u.aR,{children:(0,s.jsx)(u.ZB,{className:"text-3xl font-headline text-primary",children:"Add New Product"})}),(0,s.jsx)(u.Wu,{children:(0,s.jsx)(d.lV,{...b,children:(0,s.jsxs)("form",{onSubmit:b.handleSubmit(function(r){t(async()=>{let t=await j(r);t.success?(e({title:"Success!",description:t.message}),b.reset()):(e({title:"Error",description:t.message||"Could not add product.",variant:"destructive"}),t.errors&&t.errors.forEach(e=>{b.setError(e.path[0],{message:e.message})}))})}),className:"space-y-8",children:[(0,s.jsx)(d.zB,{control:b.control,name:"name",render:({field:e})=>(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Product Name"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(l.p,{placeholder:"e.g., Organic Apples",...e})}),(0,s.jsx)(d.C5,{})]})}),(0,s.jsx)(d.zB,{control:b.control,name:"description",render:({field:e})=>(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Description"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(p,{placeholder:"Detailed description of the product...",...e})}),(0,s.jsx)(d.C5,{})]})}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,s.jsx)(d.zB,{control:b.control,name:"mrp",render:({field:e})=>(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"MRP (Max Retail Price)"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(l.p,{type:"number",step:"0.01",placeholder:"e.g., 2.99",...e})}),(0,s.jsx)(d.C5,{})]})}),(0,s.jsx)(d.zB,{control:b.control,name:"code",render:({field:e})=>(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Product Code (SKU)"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(l.p,{placeholder:"e.g., ORG-APL-001",...e})}),(0,s.jsx)(d.C5,{})]})})]}),(0,s.jsx)(d.zB,{control:b.control,name:"barcode",render:({field:e})=>(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Barcode"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.MJ,{children:(0,s.jsx)(l.p,{placeholder:"e.g., 1234567890123",...e})}),(0,s.jsxs)(i.$,{type:"button",variant:"outline",onClick:()=>m(!0),className:"shrink-0",children:[(0,s.jsx)(g.A,{className:"mr-2 h-4 w-4"})," Scan"]})]}),(0,s.jsx)(d.C5,{})]})}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,s.jsx)(d.zB,{control:b.control,name:"costPriceCode",render:({field:e})=>(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Cost Price / Less Code"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(l.p,{placeholder:"e.g., C10 or L5",...e})}),(0,s.jsx)(d.Rr,{children:"Code to identify cost price or less percentage."}),(0,s.jsx)(d.C5,{})]})}),(0,s.jsx)(d.zB,{control:b.control,name:"lowInventoryFactor",render:({field:e})=>(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Low Inventory Factor"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(l.p,{type:"number",step:"1",placeholder:"e.g., 10",...e})}),(0,s.jsx)(d.Rr,{children:"Minimum quantity to trigger low inventory warning."}),(0,s.jsx)(d.C5,{})]})})]}),(0,s.jsxs)(i.$,{type:"submit",disabled:r,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground rounded-md shadow-md hover:shadow-lg transition-all duration-200 transform hover:scale-105",children:[r?(0,s.jsx)(v.A,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Save Product"]})]})})})]}),(0,s.jsx)(f.A,{open:c,onOpenChange:m,onScanComplete:e=>{b.setValue("barcode",e,{shouldValidate:!0})}})]})}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},7435:(e,r,t)=>{"use strict";t.d(r,{default:()=>s});let s=(0,t(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/justdial/ThokWaliShop/Thok-wali-Shop/src/components/products/AddProductForm.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/justdial/ThokWaliShop/Thok-wali-Shop/src/components/products/AddProductForm.tsx","default")},8085:(e,r,t)=>{Promise.resolve().then(t.bind(t,7435))},8362:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(7413),o=t(7435);function n(){return(0,s.jsx)("div",{className:"container mx-auto py-8",children:(0,s.jsx)(o.default,{})})}},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9212:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>l});var s=t(5239),o=t(8088),n=t(8170),a=t.n(n),i=t(893),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(r,d);let l={children:["",{children:["add-product",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8362)),"/home/justdial/ThokWaliShop/Thok-wali-Shop/src/app/add-product/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,6424)),"/home/justdial/ThokWaliShop/Thok-wali-Shop/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/justdial/ThokWaliShop/Thok-wali-Shop/src/app/add-product/page.tsx"],p={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/add-product/page",pathname:"/add-product",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[447,794,658,170,583],()=>t(9212));module.exports=s})();