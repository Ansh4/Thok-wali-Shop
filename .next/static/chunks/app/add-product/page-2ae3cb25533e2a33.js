(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[904],{5077:(e,r,s)=>{"use strict";s.d(r,{default:()=>v});var n=s(5155),l=s(221),o=s(2177),t=s(2115),c=s(285),a=s(7759),d=s(2523),i=s(9434);let x=t.forwardRef((e,r)=>{let{className:s,...l}=e;return(0,n.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:r,...l})});x.displayName="Textarea";var u=s(6695),h=s(7481),j=s(8370),m=s(4477);let p=(0,m.createServerReference)("4081013ea6699ac9171233ce0efebfc895d7ef4a26",m.callServer,void 0,m.findSourceMapURL,"createProductAction");var g=s(1841),f=s(5422),b=s(172);function v(){let{toast:e}=(0,h.dj)(),[r,s]=(0,t.useTransition)(),[i,m]=(0,t.useState)(!1),v=(0,o.mN)({resolver:(0,l.u)(j.u),defaultValues:{name:"",description:"",mrp:0,code:"",barcode:"",costPriceCode:"",lowInventoryFactor:0}});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(u.Zp,{className:"w-full max-w-2xl mx-auto shadow-xl rounded-lg",children:[(0,n.jsx)(u.aR,{children:(0,n.jsx)(u.ZB,{className:"text-3xl font-headline text-primary",children:"Add New Product"})}),(0,n.jsx)(u.Wu,{children:(0,n.jsx)(a.lV,{...v,children:(0,n.jsxs)("form",{onSubmit:v.handleSubmit(function(r){s(async()=>{let s=await p(r);s.success?(e({title:"Success!",description:s.message}),v.reset()):(e({title:"Error",description:s.message||"Could not add product.",variant:"destructive"}),s.errors&&s.errors.forEach(e=>{v.setError(e.path[0],{message:e.message})}))})}),className:"space-y-8",children:[(0,n.jsx)(a.zB,{control:v.control,name:"name",render:e=>{let{field:r}=e;return(0,n.jsxs)(a.eI,{children:[(0,n.jsx)(a.lR,{children:"Product Name"}),(0,n.jsx)(a.MJ,{children:(0,n.jsx)(d.p,{placeholder:"e.g., Organic Apples",...r})}),(0,n.jsx)(a.C5,{})]})}}),(0,n.jsx)(a.zB,{control:v.control,name:"description",render:e=>{let{field:r}=e;return(0,n.jsxs)(a.eI,{children:[(0,n.jsx)(a.lR,{children:"Description"}),(0,n.jsx)(a.MJ,{children:(0,n.jsx)(x,{placeholder:"Detailed description of the product...",...r})}),(0,n.jsx)(a.C5,{})]})}}),(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,n.jsx)(a.zB,{control:v.control,name:"mrp",render:e=>{let{field:r}=e;return(0,n.jsxs)(a.eI,{children:[(0,n.jsx)(a.lR,{children:"MRP (Max Retail Price)"}),(0,n.jsx)(a.MJ,{children:(0,n.jsx)(d.p,{type:"number",step:"0.01",placeholder:"e.g., 2.99",...r})}),(0,n.jsx)(a.C5,{})]})}}),(0,n.jsx)(a.zB,{control:v.control,name:"code",render:e=>{let{field:r}=e;return(0,n.jsxs)(a.eI,{children:[(0,n.jsx)(a.lR,{children:"Product Code (SKU)"}),(0,n.jsx)(a.MJ,{children:(0,n.jsx)(d.p,{placeholder:"e.g., ORG-APL-001",...r})}),(0,n.jsx)(a.C5,{})]})}})]}),(0,n.jsx)(a.zB,{control:v.control,name:"barcode",render:e=>{let{field:r}=e;return(0,n.jsxs)(a.eI,{children:[(0,n.jsx)(a.lR,{children:"Barcode"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(a.MJ,{children:(0,n.jsx)(d.p,{placeholder:"e.g., 1234567890123",...r})}),(0,n.jsxs)(c.$,{type:"button",variant:"outline",onClick:()=>m(!0),className:"shrink-0",children:[(0,n.jsx)(f.A,{className:"mr-2 h-4 w-4"})," Scan"]})]}),(0,n.jsx)(a.C5,{})]})}}),(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,n.jsx)(a.zB,{control:v.control,name:"costPriceCode",render:e=>{let{field:r}=e;return(0,n.jsxs)(a.eI,{children:[(0,n.jsx)(a.lR,{children:"Cost Price / Less Code"}),(0,n.jsx)(a.MJ,{children:(0,n.jsx)(d.p,{placeholder:"e.g., C10 or L5",...r})}),(0,n.jsx)(a.Rr,{children:"Code to identify cost price or less percentage."}),(0,n.jsx)(a.C5,{})]})}}),(0,n.jsx)(a.zB,{control:v.control,name:"lowInventoryFactor",render:e=>{let{field:r}=e;return(0,n.jsxs)(a.eI,{children:[(0,n.jsx)(a.lR,{children:"Low Inventory Factor"}),(0,n.jsx)(a.MJ,{children:(0,n.jsx)(d.p,{type:"number",step:"1",placeholder:"e.g., 10",...r})}),(0,n.jsx)(a.Rr,{children:"Minimum quantity to trigger low inventory warning."}),(0,n.jsx)(a.C5,{})]})}})]}),(0,n.jsxs)(c.$,{type:"submit",disabled:r,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground rounded-md shadow-md hover:shadow-lg transition-all duration-200 transform hover:scale-105",children:[r?(0,n.jsx)(b.A,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Save Product"]})]})})})]}),(0,n.jsx)(g.A,{open:i,onOpenChange:m,onScanComplete:e=>{v.setValue("barcode",e,{shouldValidate:!0})}})]})}},6035:(e,r,s)=>{Promise.resolve().then(s.bind(s,5077))}},e=>{var r=r=>e(e.s=r);e.O(0,[802,44,274,441,684,358],()=>r(6035)),_N_E=e.O()}]);